@using MudBlazor
@inject IJSRuntime JS

<MudAppBar Elevation="0" Class="orbit-navbar nav-sticky">

    <!-- Logo -->
    <MudText Typo="Typo.h5" Class="orbit-logo">
        Anna Portfolio
    </MudText>

    <MudSpacer />

    <!-- Main Nav -->
    <nav class="orbit-navmenu">
        <MudNavLink Href="/" Match="NavLinkMatch.All">
            Home
        </MudNavLink>

        <MudNavLink Href="/about">
            About
        </MudNavLink>

        <MudNavLink Href="/skills">
            Skills
        </MudNavLink>

        <MudNavLink Href="/experience">
            Experience
        </MudNavLink>

        <MudNavLink Href="/projects">
            Projects
        </MudNavLink>

        <MudNavLink Href="/contact">
            Contact
        </MudNavLink>
    </nav>

    <!-- Theme Toggle -->
    <MudIconButton Class="orbit-theme-toggle"
                   Icon="@(_isDark ? Icons.Material.Filled.DarkMode : Icons.Material.Filled.LightMode)"
                   OnClick="ToggleTheme"
                   Edge="Edge.End"
                   AriaLabel="Toggle light/dark theme" />
</MudAppBar>

@code {
    private bool _isDark = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            // Calls JS function: setThemeMode(isDark)
            await JS.InvokeVoidAsync("setThemeMode", _isDark);
        }
    }

    private async Task ToggleTheme()
    {
        _isDark = !_isDark;
        await JS.InvokeVoidAsync("setThemeMode", _isDark);
    }
}
